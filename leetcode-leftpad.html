<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<script>
			//leftpad二分法
			function leftpad(str,length,ch){
//				if(!ch && ch !==0){
//					ch = ''
//				}
				let len = length - str.length+1; //需要补齐的字符串ch长度
				return Array(len).join(ch)+str
			}
			console.time('leftpad')
			for(let i = 0;i<10000;i++){
				leftpad('hello',10000,'0')
			}
			console.timeEnd('leftpad')
//			console.log(leftpad('hello',10,'0'))
			
			function leftpad2(str,length,ch){
				let len = length = str.length;
				//二分法
				let total = ''
				while(true){
					if(len%2==1){
						total += ch
					}
					if(len==1){
						return total + str
					}
					ch += ch
					len = parseInt(len/2)
				}
			}
			
			console.time('leftpad2')
			for(let i = 0;i<100000;i++){
				leftpad2('hello',100000,'0')
			}
			console.timeEnd('leftpad2')
			
//			console.log(leftpad2('hello',10,'0'))
//////////////////////////////////////////////////////////
			function leftpad3(str,length,ch){
				let len = length = str.length;
				//二分法
				let total = ''
				while(true){
					if(len%2==1){
						total += ch
					}
					if(len==1){
						return total + str
					}
					ch += ch
					len = len>>1
				}
			}
			
			console.time('leftpad3')
			for(let i = 0;i<100000;i++){
				leftpad3('hello',100000,'0')
			}
			console.timeEnd('leftpad3')
		</script>
	</body>
</html>
